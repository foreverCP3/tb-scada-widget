# 组态编辑器功能需求清单

## 一、图元管理

| 序号 | 功能 | 功能描述 |
|------|------|----------|
| 1 | 直线 | 绘制不同颜色、线型、宽度的直线 |
| 2 | 折线 | 绘制不同颜色、线型、宽度的折线 |
| 3 | 矩形 | 矩形和正方形的绘制，包括不同颜色、线型、宽度 |
| 4 | 多边形 | 闭合的多边形的绘制，包括不同颜色、线型、宽度 |
| 5 | 椭圆 | 椭圆的绘制，包括不同颜色、线型、宽度 |
| 6 | 文字 | 在空白区域完成文字的输入（能够选择字体、字号和颜色） |
| 7 | 图片 | 在当前画面中插入图片 |
| 8 | 电池 | 通过拖拽方式绘制电池 |
| 9 | 仪表盘 | 通过拖拽方式绘制仪表盘 |
| 10 | 开关 | 开关绘制 |

**备注：**
- 颜色包括：用户可以从色板中选择，或根据RGB设置颜色
- 线型包括：实线、虚线（虚线可以包含多种宽度的间隔）
- 宽度选择：0.25磅、0.5磅、0.8磅、1.0磅、1.5磅、2.0磅

## 二、图元操作

| 序号 | 功能 | 功能描述 |
|------|------|----------|
| 11 | 图元操作 | 提供对单个或多个图形对象在页面中的布局位置调整功能，包括：对齐、等间距 |

## 三、控件管理

| 序号 | 功能 | 功能描述 |
|------|------|----------|
| 12 | 按钮控件 | **状态：** 默认态、悬停态、按下态和禁用态<br>**响应事件：** 鼠标单击、鼠标悬浮、按钮按下和按钮抬起（设置按钮的背景色、文字颜色、字体、显示文字、文字大小） |
| 13 | 日期时间控件 | 设置控件时间、获取控件时间控件年/月/日/时/分/秒/星期变化的事件<br>**显示当前时间：** 显示系统的当前时间 |
| 14 | 趋势控件 | 趋势支持设置背景颜色、文字颜色<br>支持设置Y坐标显示单位，单位可自定义<br>支持最大1年跨度的趋势查询间隔<br>趋势增加最优显示按钮，点击后曲线以最优的比例显示在趋势窗口上，不在受限于最大最小限制，可以查看趋势 |
| 15 | 复选框控件 | 每个复选框具备选中和未选中两种状态，每个选项可关联使用交互特性。<br>当复选框处于勾选中状态，表明此选项生效。<br>**属性包括：** 文本和变体 |
| 16 | 单选框控件 | 每个单选框具备选中和未选中两种状态，每个选项可关联使用交互特性。<br>多个单选框控件成为一组组，代表同一互斥功能，当某个单选框处于勾选中状态，表明此选项生效。 |
| 17 | 仪表盘控件 | 可以绑定数据源并根据数值自动调整仪表盘在线显示内容<br>**背景色：** 支持表头和表格背景色设置<br>**字体：** 支持字体风格、字体颜色 |
| 18 | 表格控件 | 支持用户自定义表格，可设置表格的行数、列数、行高、列宽设置，表格或单元格背景色、字体、文本对齐方式设置，可按列进行表格排序，鼠标选择区域可同时调整行高或列宽功能<br>**背景色：** 支持表头和表格背景色设置 |

## 四、特性管理

| 序号 | 功能 | 功能描述 |
|------|------|----------|
| 19 | 动态特性 | 直观呈现系统中各类点值（如采集PCS的现场测量值、空调设备运行状态等）随时间推移而发生的动态变化<br>**特性支持的触发条件如下：**<br>- 左值：绑定数据源<br>- 右值：设定的数值<br>- 条件公式：数据源的值与设定数值进行比较（公式包括：等于、大于、小于等） |
| 20 | 变色特性 | 满足变色特性的执行条件时，对象进行变色<br>**设置颜色：** 当满足或不满足条件时设置不同颜色<br>**改变颜色：** 当触发条件的逻辑运算结果为"真"时，对象显示该颜色<br>**恢复颜色：** 当触发条件的逻辑运算结果为"假"时，对象显示该颜色 |
| 21 | 填充特性 | 按所设置的条件进行颜色填充<br>**设置执行条件**<br>**设置数据源：** 标签点数据<br>**量程上限：** 对象填充满时点对应的值 |
| 22 | 闪烁特性 | 满足闪烁特性的执行条件时，对象进行闪烁，不满足时停止闪烁<br>**设置执行条件**<br>闪烁频率：参数值为48时，闪烁频率为0.1Hz；参数值为6时，闪烁频率为0.8Hz |
| 23 | 显示特性 | 图形对象被定义显示特性后，满足特性的执行条件时，对象显示，不满足隐藏 |
| 24 | 交互特性 | **编辑特性：** 编辑当前选定交互特性的相关参数 |
| 25 | Tip显示特性 | 触发响应事件后，显示对象的提示说明，可以是文本内容或数据源值<br>**设置触发事件**<br>**Tip信息源：** 显示点值、显示静态文本、显示文字对象内容<br>**显示位置：** 鼠标位置、左上、左下、右上、右下 |

## 五、交互管理

| 序号 | 功能 | 功能描述 |
|------|------|----------|
| 26 | 写模拟量特性 | 触发响应事件时，弹出数字键盘，对设置的数据源进行赋值<br>**设置触发事件**<br>**数据源：** 标签点数据<br>**写值模式：** 按固定值增减、写固定值、数字键盘输入 |
| 27 | 写开关量特性 | 触发响应事件时，对开关量指定项名进行反转并保持，操作时可进行二次确认<br>**设置触发事件**<br>**数据源：** 标签点数据<br>**写值模式：** 按固定值增减、写固定值、数字键盘输入（仅支持整数） |
| 28 | 打开页面特性 | 触发响应事件时，打开指定画面<br>**设置触发事件** |

## 六、专用图库

| 序号 | 功能 | 功能描述 |
|------|------|----------|
| 29 | 电池 | 作为储能系统的核心储能载体、电池负责电能的存储与释放 |
| 30 | 合分闸装置 | 用于控制储能系统与电网的连接状态：<br>**合闸：** 使储能系统接入电网，实现电能的充放电交互<br>**分闸：** 断开储能系统与电网的连接，避免电网故障时储能系统受损，或在检修时确保安全 |
| 31 | 软压板 | 属于软件层面的逻辑控制组件，通过EMS后台或保护装置的软件界面操作 |
| 32 | 变流器 | **状态包括：** 交直流变换、功率控制、信息交互、保护功能 |
| 33 | 变压器 | 显示电压变换与电能传输 |
| 34 | 接地装置 | 储能系统电气安全状态 |
| 35 | 交流接触器 | 控制交流电路的通断 |
| 36 | 直流接触器 | 控制直流电路的通断 |
| 37 | 电容 | 电容包括滤波、储能与补偿状态 |
| 38 | 电池柜 | 池的物理安装与管理载体 |

## 七、导入/导出

| 序号 | 功能 | 功能描述 |
|------|------|----------|
| 39 | 图元导入/导出 | 图元导入/导出功能 |
| 40 | 画面导入/导出 | 画面导入/导出功能 |
